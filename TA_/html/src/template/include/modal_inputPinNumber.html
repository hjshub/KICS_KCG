<header class="modal-header">
  <div class="inner">
    <div class="flex-wrap end h-wrap">
      <span class="button--close">
        <a href="javascript:void(0)" class="button-close-modal" data-modal-name="inputPinNumber">
          <em class="hidden-txt">레이어팝업 닫기</em>
          <i></i>
          <i></i>
        </a>
      </span>
      <h2>PIN번호 등록</h2>
    </div>
  </div>
</header>
<div class="modal-body">
  <section>
    <div class="container">
      <header class="heading-title-wrap2">
        <h3>
          PIN번호 입력<br />
          <span>등록할 PIN번호를 입력해 주세요.</span>
        </h3>
      </header>
      <div class="form-wrap">
        <div class="pin-pw-wrap">
          <label for="pin_pw_regist"><em class="hidden-txt">PIN번호</em></label>
          <input type="password" id="pin_pw_regist" autocomplete="off" pattern="" maxlength="4" inputmode="numeric" />
          <span class="grid-wrap col-4 gap20 pinNumber">
            <em class="flex-wrap center"></em>
            <em class="flex-wrap center"></em>
            <em class="flex-wrap center"></em>
            <em class="flex-wrap center"></em>
          </span>
        </div>
      </div>
    </div>
  </section>
</div>

<script>
  const pinPwRg = document.getElementById('pin_pw_regist');

  pinPwRg.addEventListener('keydown', function (event) {
    const exceptionKey = [' ', 'ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown'];

    exceptionKey.forEach(function (el) {
      if (event.key == el) {
        event.preventDefault();
      }
    });
  });

  pinPwRg.addEventListener('input', function (event) {
    const child = pinPwRg.nextElementSibling.children;
    const value = event.target.value;
    const max = value.length;

    for (let i = 0; i < child.length; i++) {
      child[i].classList.remove('input');
    }

    for (let j = 0; j < max; j++) {
      child[j].classList.add('input');
    }
  });
</script>
